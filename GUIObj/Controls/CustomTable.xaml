<UserControl
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:Converters="clr-namespace:GUIObj.Converters" x:Name="uc_customtable" x:Class="GUIObj.Controls.CustomTable" 
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300" SizeChanged="uc_customtable_SizeChanged">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/GUIObj;component/Styles/ALControlStyles.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <Converters:VisibilityToScrollBarVisibilityConverter x:Key="VisibilityToScrollBarVisibilityConverter"/>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid>
        <Grid x:Name="sp_main" Margin="0" ScrollViewer.VerticalScrollBarVisibility="Disabled" Loaded="sp_main_Loaded">
            <Grid.RowDefinitions>
                <RowDefinition Height="31"/>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <Grid.Background>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="#FFCFCFCF" Offset="0"/>
                    <GradientStop Color="White" Offset="1"/>
                </LinearGradientBrush>
            </Grid.Background>
            <ScrollViewer x:Name="sv_header" Height="30" HorizontalScrollBarVisibility="Hidden" HorizontalContentAlignment="Stretch" VerticalScrollBarVisibility="{Binding ComputedVerticalScrollBarVisibility, Converter={StaticResource VisibilityToScrollBarVisibilityConverter}, ElementName=sv_rows, Mode=OneWay}" >
                <StackPanel x:Name="sp_header" Orientation="Horizontal" ScrollViewer.VerticalScrollBarVisibility="Disabled" Height="30">
                    <StackPanel.Background>
                        <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                            <GradientStop Color="#FFA8A8A8" Offset="1"/>
                            <GradientStop Color="#FFD4D4D4" Offset="0.002"/>
                        </LinearGradientBrush>
                    </StackPanel.Background>
                </StackPanel>
            </ScrollViewer>
            <ScrollViewer x:Name="sv_rows" Grid.Row="1" VerticalScrollBarVisibility="Auto" ScrollChanged="sv_rows_ScrollChanged" HorizontalScrollBarVisibility="Auto">
                <StackPanel x:Name="sp_rows" Margin="0" Grid.Row="1" CanHorizontallyScroll="True" ScrollViewer.VerticalScrollBarVisibility="Disabled" PreviewMouseLeftButtonDown="sp_rows_PreviewMouseLeftButtonDown" PreviewMouseLeftButtonUp="sp_rows_PreviewMouseLeftButtonUp" PreviewMouseMove="sp_rows_PreviewMouseMove" DragEnter="sp_rows_DragEnter" Drop="sp_rows_Drop" AllowDrop="True" ScrollViewer.CanContentScroll="True"/>
            </ScrollViewer>
        </Grid>

    </Grid>
</UserControl>
